(this.webpackJsonptaroko_takehome=this.webpackJsonptaroko_takehome||[]).push([[0],{65:function(t,e,n){},66:function(t,e,n){},67:function(t,e,n){},87:function(t,e,n){},89:function(t,e,n){},95:function(t,e,n){},96:function(t,e,n){},97:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),s=n(13),r=n.n(s),i=(n(65),n(5)),o=n(117),u=n(118),j=n(54),l=n.n(j),b=(n(66),n(67),n(48)),d=n.n(b),O=n(55),h=n(36),f=n(16),p=n.n(f),m=n(28),x=n(29),v=n.n(x),N=["id"],C="https://taroko-contacts-server.herokuapp.com",g=function(){var t=Object(m.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.get("".concat(C,"/api/contacts")).then((function(t){return t.data.data})).catch((function(t){return console.log(t)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),S=function(){var t=Object(m.a)(p.a.mark((function t(e){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.post("".concat(C,"/api/contacts"),{contact:Object(h.a)({},e)}).then((function(t){return t})).catch((function(t){return console.log(t)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=function(){var t=Object(m.a)(p.a.mark((function t(e){var n,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,c=Object(O.a)(e,N),t.next=3,v.a.patch("".concat(C,"/api/contacts/").concat(n),{info:Object(h.a)({},c)}).then((function(t){return t})).catch((function(t){return console.log(t)}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(m.a)(p.a.mark((function t(e){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.delete("".concat(C,"/api/contacts/").concat(e)).then((function(t){return t})).catch((function(t){return console.log(t)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=(n(87),n(2)),_=function(t){var e=t.handlePopupClose,n=t.contactId,a=Object(c.useContext)(B),s=a.getSortedContacts,r=a.setAlertStatus;return Object(w.jsx)("div",{className:"popup-confirm-container",children:Object(w.jsxs)("div",{className:"popup-confirm-inner",children:[Object(w.jsx)("p",{children:"Are you sure you want to delete this contact? This is irreversible."}),Object(w.jsxs)("div",{className:"form-button-group",children:[Object(w.jsx)("button",{className:"button",onClick:function(){y(n).then((function(t){return r(!0),s(),t})),e(!1)},children:"Delete"}),"\xa0",Object(w.jsx)("button",{className:"button",onClick:function(){return e(!1)},children:"Cancel"})]})]})})},F=(n(89),function(t){var e=t.handlePopupClose,n=t.type,a=t.id,s=Object(c.useState)(""),r=Object(i.a)(s,2),o=r[0],u=r[1],j=Object(c.useState)(""),l=Object(i.a)(j,2),b=l[0],d=l[1],O=Object(c.useState)(""),h=Object(i.a)(O,2),f=h[0],p=h[1],m=Object(c.useState)(""),x=Object(i.a)(m,2),v=x[0],N=x[1],C=Object(c.useContext)(B),g=C.getSortedContacts,y=C.setAlertStatus,_=Object(c.useContext)(P),F=_.firstName,L=_.lastName,A=_.job,D=_.description;return Object(c.useEffect)((function(){"edit"===n&&(u(F),d(L),p(A),N(D))}),[]),Object(w.jsx)("div",{className:"popup-container",children:Object(w.jsxs)("div",{className:"popup-form",children:[Object(w.jsx)("h1",{children:"create"===n?"Add Contact":"Edit Contact"}),Object(w.jsx)("div",{className:"popup-inner",children:Object(w.jsxs)("form",{children:[Object(w.jsxs)("div",{className:"full-name",children:[Object(w.jsxs)("div",{className:"fieldset-names",children:[Object(w.jsx)("label",{htmlFor:"firstName",children:"First Name: "}),Object(w.jsx)("input",{type:"text",name:"firstName",id:"firstName",value:o,onChange:function(t){return u(t.target.value)}})]}),Object(w.jsxs)("div",{className:"fieldset-names",children:[Object(w.jsx)("label",{htmlFor:"lastName",children:"Last Name: "}),Object(w.jsx)("input",{type:"text",name:"lastName",id:"lastName",value:b,onChange:function(t){return d(t.target.value)}})]})]}),Object(w.jsxs)("div",{className:"fieldset-others",children:[Object(w.jsx)("label",{htmlFor:"job",children:"Job: "}),Object(w.jsx)("input",{type:"text",name:"job",id:"job",value:f,onChange:function(t){return p(t.target.value)}})]}),Object(w.jsxs)("div",{className:"fieldset-others",children:[Object(w.jsx)("label",{htmlFor:"description",children:"Description: "}),Object(w.jsx)("textarea",{name:"description",id:"description",value:v,onChange:function(t){return N(t.target.value)}})]})]})}),Object(w.jsxs)("div",{className:"form-button-group",children:[Object(w.jsx)("button",{className:"button",onClick:function(){"create"===n&&S({first_name:o,last_name:b,job:f,description:v}).then((function(t){return y(!0),g(),t})),"edit"===n&&k({id:a,first_name:o,last_name:b,job:f,description:v}).then((function(t){return y(!0),g(),t})),e(!1)},children:"Save"}),"\xa0",Object(w.jsx)("button",{className:"button",onClick:function(){return e(!1)},children:"Close"})]})]})})}),P=Object(c.createContext)({id:0,firstName:"",lastName:"",job:"",description:""}),L=function(t){var e=t.id,n=t.firstName,a=t.lastName,s=t.job,r=t.description,o=Object(c.useState)(!1),u=Object(i.a)(o,2),j=u[0],l=u[1],b=Object(c.useState)(!1),O=Object(i.a)(b,2),h=O[0],f=O[1];return Object(w.jsxs)("div",{className:"contact-item-container",children:[j&&Object(w.jsx)(_,{handlePopupClose:l,contactId:e}),h&&Object(w.jsx)(P.Provider,{value:t,children:Object(w.jsx)(F,{handlePopupClose:f,type:"edit",id:e})}),Object(w.jsxs)("div",{className:"contact-info",children:[Object(w.jsxs)("div",{className:"contact-info__icon-and-name",children:[Object(w.jsx)(d.a,{style:{width:"2em",height:"2em"}}),Object(w.jsxs)("span",{children:[n," ",a]})]}),Object(w.jsxs)("p",{children:["Job: ",s]}),Object(w.jsxs)("p",{children:["Description: ",r]})]}),Object(w.jsxs)("div",{className:"button-group",children:[Object(w.jsx)("button",{className:"button contact-item-button",onClick:function(){return f(!0)},children:"Edit"}),Object(w.jsx)("button",{className:"button contact-item-button",onClick:function(){return l(!0)},children:"Delete"})]})]})},A=(n(95),n.p+"static/media/sort-button.7cec2c9c.png"),D=function(t){var e=t.contactList,n=Object(c.useState)(e),a=Object(i.a)(n,2),s=a[0],r=a[1],o=Object(c.useState)("asc"),u=Object(i.a)(o,2),j=u[0],l=u[1],b=Object(c.useState)("first_name"),d=Object(i.a)(b,2),O=d[0],h=d[1];return Object(c.useEffect)((function(){!function(t,e,n){if(t){var c=t.sort((function(t,c){var a=t["".concat(e)].toLowerCase(),s=c["".concat(e)].toLowerCase();return"asc"===n?a>s?1:-1:a<s?1:-1}));r(c)}}(e,O,j)}),[s,O,j,e]),Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{className:"header-container",children:[Object(w.jsx)("h1",{children:"Contacts"}),Object(w.jsxs)("div",{className:"sort-control",children:[Object(w.jsxs)("select",{name:"sortBy",onChange:function(t){return h(t.target.value)},children:[Object(w.jsx)("option",{value:"first_name",children:"First Name"}),Object(w.jsx)("option",{value:"last_name",children:"Last Name"}),Object(w.jsx)("option",{value:"job",children:"Job"})]}),Object(w.jsx)("img",{src:A,alt:"sort",className:"asc"===j?"":"rotate",onClick:function(){return l("asc"===j?"desc":"asc")}})]})]}),Object(w.jsx)("ul",{className:"contact-list-container",children:s&&s.map((function(t){var e=t.id,n=t.first_name,c=t.last_name,a=t.job,s=t.description;return Object(w.jsx)("li",{className:"contact-list-item",children:Object(w.jsx)(L,{id:e,firstName:n,lastName:c,job:a,description:s})},e)}))})]})},E=n(116),J=function(){return Object(w.jsx)("div",{className:"loading-background",children:Object(w.jsx)(E.a,{className:"circle"})})},I=(n(96),function(t){var e=t.loading,n=Object(c.useState)(!1),a=Object(i.a)(n,2),s=a[0],r=a[1];return Object(w.jsxs)("div",{className:"nav-container",children:[s&&Object(w.jsx)(F,{handlePopupClose:r,type:"create"}),Object(w.jsx)("nav",{children:Object(w.jsx)("ul",{children:Object(w.jsx)("li",{children:"Contact List"})})}),e&&Object(w.jsx)(J,{}),Object(w.jsx)("div",{children:Object(w.jsx)("button",{className:"button",onClick:function(){return r(!0)},children:"Add Contact"})})]})}),B=Object(c.createContext)({}),T=function(){var t=Object(c.useState)(),e=Object(i.a)(t,2),n=e[0],a=e[1],s=Object(c.useState)(!1),r=Object(i.a)(s,2),j=r[0],b=r[1],d=Object(c.useState)(!1),O=Object(i.a)(d,2),h=O[0],f=O[1],p=function(){b(!0),g().then((function(t){return a(t)})).finally((function(){return b(!1)}))};return Object(c.useEffect)((function(){p()}),[]),Object(w.jsxs)("div",{className:"app",children:[Object(w.jsx)(o.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:h,autoHideDuration:5e3,onClose:function(){return f(!1)},message:"Contacts updated!",action:Object(w.jsx)(c.Fragment,{children:Object(w.jsx)(u.a,{children:Object(w.jsx)(l.a,{})})}),style:{fontFamily:'"Pangolin", cursive'}}),Object(w.jsxs)(B.Provider,{value:{getSortedContacts:p,setAlertStatus:f},children:[Object(w.jsx)(I,{loading:j}),n&&Object(w.jsx)(D,{contactList:n})]})]})},z=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,120)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,s=e.getLCP,r=e.getTTFB;n(t),c(t),a(t),s(t),r(t)}))};r.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(T,{})}),document.getElementById("root")),z()}},[[97,1,2]]]);
//# sourceMappingURL=main.e26b4768.chunk.js.map